<div class="row g-3">
  @for (col of columns; track $index) {
  <div class="col-md-4">
    <div
      class="status-column p-3 rounded-4 shadow-sm h-100"
      [ngClass]="col.class"
    >
      <h6
        class="text-uppercase fw-bold mb-3 opacity-75"
        [ngClass]="col.titleClass"
      >
        {{ col.label }} ({{ col.items.length }})
      </h6>

      @for (task of col.items; track task.id) {
      <mat-card
        class="mb-3 task-card rounded-3 shadow-sm"
        [class.clickable]="!isReadOnly"
        (click)="onCardClick(task)"
      >
        <mat-card-content class="px-3 py-2.5">
          <p
            class="fw-semibold mb-1"
            [ngClass]="{
              'text-decoration-line-through': task.status === 'completed'
            }"
          >
            {{ task.title }}
          </p>

          <p class="text-muted small mb-0 text-truncate">
            {{
              task.status === "completed"
                ? (task.createdAt | date : "shortDate")
                : task.description
            }}
          </p>
        </mat-card-content>
      </mat-card>
      }
    </div>
  </div>
  }
</div>
